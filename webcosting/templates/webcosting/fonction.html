
{% extends "webcosting/base.html" %}


{% block navigation %}

<ul class="nav nav-pills">
  <li role="presentation"><a href="{% url 'webcosting:index' %}">Accueil</a></li>
  <li role="presentation"><a href="{% url 'webcosting:projet_add' %}" role="button">Ajouter un projet</a></li>
  <li role="presentation"><a href="{% url 'webcosting:cocomo_update' projet.id %}">Estimation Cocomo</a></li>
  <li role="presentation" class="active"><a href="{% url 'webcosting:fonction' projet.id %}" role="button">Estimation points de fonctions</a></li>
  <li role="presentation"><a href="{% url 'webcosting:projet' projet.id %}">Synthèse du projet</a></li>

</ul>

{% endblock %}


{% block content %}

<h1>Projet {{ projet.nom_projet }} </h1>

<p><a href="{% url 'webcosting:fonction_add' projet.id %}" class="btn btn-primary" role="button">Ajouter une fonction</a></p>

<div class="row">

  {% for fonction in all_fonctions %}

  <div class="col-sm-6 col-md-4">
    <div class="thumbnail">
      <div class="caption">

        <h3>{{ fonction.nom_fonction }}</h3>

        <p>type de fonction: {{ fonction.type_fonction}} </p>
        <p>nombre de sous-fonctions (GDR ou SLD): {{ fonction.nombre_sous_fonction}} </p>
        <p>nombre de données élémentaires {{ fonction.nombre_donnees_elementaires }} </p>
        <p>nombre de points de fonctions bruts: {{ fonction.point_de_fonction_brut }} </p>
        <p>nombre de points de fonctions nets: {{ fonction.point_de_fonction_net }} </p>
        <p>
          <a href="{% url 'webcosting:fonction_update' projet.id fonction.id %}" class="btn btn-default" role="button">Modifier</a> 

          <form action="{% url 'webcosting:fonction_delete' projet.id fonction.id %}" method="post">

            {% csrf_token %}

            <input type="hidden" name="projet_id" value="{{ projet.id }}">
            <input type="hidden" name="fonction_id" value="{{ fonction.id }}">
            <button type="submit" class="btn btn-default">Supprimer</button>
            
          </form>

        </p>

      </div>
    </div>
  </div>


  {% endfor %}

</div>

{% endblock %}